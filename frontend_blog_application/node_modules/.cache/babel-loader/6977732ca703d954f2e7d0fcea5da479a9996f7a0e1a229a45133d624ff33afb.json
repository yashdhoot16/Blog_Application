{"ast":null,"code":"/*!\n * Jodit Editor (https://xdsoft.net/jodit/)\n * Released under MIT see LICENSE.txt in the project root for license information.\n * Copyright (c) 2013-2025 Valeriy Chupurnov. All rights reserved. https://xdsoft.net\n */\nimport { Dom } from \"../../dom/dom.js\";\nimport { isString } from \"../checker/is-string.js\";\nimport { attr } from \"./attr.js\";\nimport { css } from \"./css.js\";\nimport { $$ } from \"./selector.js\";\n/**\n * Fixes image sizes and sets absolute paths to images\n */\nfunction fixedAssetsSizeAndAbsoluteLinks(editor, points) {\n  const restoreAttributes = [];\n  try {\n    $$('img', editor.editor).forEach(item => {\n      const previousAttrs = [attr(item, 'width'), attr(item, 'height'), item.src];\n      attr(item, {\n        width: item.offsetWidth + points,\n        height: item.offsetHeight + points\n      });\n      const a = editor.createInside.a();\n      editor.ed.body.appendChild(a);\n      a.href = item.src;\n      item.src = a.href;\n      Dom.safeRemove(a);\n      restoreAttributes.push(() => {\n        var _a;\n        item.src = (_a = previousAttrs[2]) !== null && _a !== void 0 ? _a : '';\n        attr(item, {\n          width: previousAttrs[0] || null,\n          height: previousAttrs[1] || null\n        });\n      });\n    });\n  } catch (e) {\n    restoreAttributes.forEach(c => c());\n    restoreAttributes.length = 0;\n    throw e;\n  }\n  return restoreAttributes;\n}\n/**\n * Generates a copy of an HTML document, resizes images, executes JS\n *\n * @event beforePreviewBox(string | undefined, 'pt' | 'px' | '')\n * @event afterPreviewBox(HTMLElement)\n */\nexport function previewBox(editor, defaultValue, points = 'px', container = null) {\n  const onDestruct = [];\n  const restoreAttributes = fixedAssetsSizeAndAbsoluteLinks(editor, points);\n  try {\n    const res = editor.e.fire('beforePreviewBox', defaultValue, points);\n    if (res != null) {\n      return res;\n    }\n    let div = editor.c.div('jodit__preview-box jodit-context');\n    if (container) {\n      container.appendChild(div);\n    }\n    css(div, {\n      position: 'relative',\n      padding: 16\n    });\n    const value = editor.value || `<div style='position: absolute;left:50%;top:50%;transform: translateX(-50%) translateY(-50%);color:#ccc;'>${editor.i18n('Empty')}</div>`;\n    if (editor.iframe) {\n      const iframe = editor.create.element('iframe');\n      css(iframe, {\n        minWidth: 800,\n        minHeight: 600,\n        border: 0\n      });\n      div.appendChild(iframe);\n      const myWindow = iframe.contentWindow;\n      if (myWindow) {\n        editor.e.fire('generateDocumentStructure.iframe', myWindow.document, editor);\n        div = myWindow.document.body;\n        if (typeof ResizeObserver === 'function') {\n          let destructed = false;\n          const elm = myWindow.document.body;\n          const resizeObserver = new ResizeObserver(editor.async.debounce(() => {\n            resizeObserver.unobserve(elm);\n            iframe.style.height = `${elm.offsetHeight + 20}px`;\n            editor.async.requestAnimationFrame(() => {\n              !destructed && resizeObserver.observe(elm);\n            });\n          }, 100));\n          const beforeDestruct = () => {\n            destructed = true;\n            resizeObserver.unobserve(elm);\n            resizeObserver.disconnect();\n            editor.e.off('beforeDestruct', beforeDestruct);\n          };\n          onDestruct.push(beforeDestruct);\n          editor.e.on('beforeDestruct', beforeDestruct);\n        }\n      }\n    } else {\n      css(div, {\n        minWidth: 1024,\n        minHeight: 600,\n        border: 0\n      });\n    }\n    const setHTML = (box, value) => {\n      const dv = isString(value) ? editor.c.div() : value;\n      if (isString(value)) {\n        dv.innerHTML = value;\n      }\n      for (let i = 0; i < dv.childNodes.length; i += 1) {\n        const c = dv.childNodes[i];\n        if (Dom.isElement(c)) {\n          const newNode = box.ownerDocument.createElement(c.nodeName);\n          for (let j = 0; j < c.attributes.length; j += 1) {\n            attr(newNode, c.attributes[j].nodeName, c.attributes[j].nodeValue);\n          }\n          if (c.childNodes.length === 0 || Dom.isTag(c, 'table')) {\n            switch (c.nodeName) {\n              case 'SCRIPT':\n                if (c.textContent) {\n                  newNode.textContent = c.textContent;\n                }\n                break;\n              default:\n                if (c.innerHTML) {\n                  newNode.innerHTML = c.innerHTML;\n                }\n                break;\n            }\n          } else {\n            setHTML(newNode, c);\n          }\n          try {\n            box.appendChild(newNode);\n          } catch (_a) {}\n        } else {\n          try {\n            box.appendChild(c.cloneNode(true));\n          } catch (_b) {}\n        }\n      }\n    };\n    setHTML(div, value);\n    editor.e.fire('afterPreviewBox', div);\n    return [div, () => {\n      onDestruct.forEach(cb => cb());\n    }];\n  } finally {\n    restoreAttributes.forEach(clb => clb());\n  }\n}","map":{"version":3,"names":["Dom","isString","attr","css","$$","fixedAssetsSizeAndAbsoluteLinks","editor","points","restoreAttributes","forEach","item","previousAttrs","src","width","offsetWidth","height","offsetHeight","a","createInside","ed","body","appendChild","href","safeRemove","push","_a","e","c","length","previewBox","defaultValue","container","onDestruct","res","fire","div","position","padding","value","i18n","iframe","create","element","minWidth","minHeight","border","myWindow","contentWindow","document","ResizeObserver","destructed","elm","resizeObserver","async","debounce","unobserve","style","requestAnimationFrame","observe","beforeDestruct","disconnect","off","on","setHTML","box","dv","innerHTML","i","childNodes","isElement","newNode","ownerDocument","createElement","nodeName","j","attributes","nodeValue","isTag","textContent","cloneNode","_b","cb","clb"],"sources":["C:/Users/YDHOOT/Documents/Spring Tool Suite Projects/BlogApplication/frontend_blog_application/node_modules/jodit/esm/core/helpers/utils/print.js"],"sourcesContent":["/*!\n * Jodit Editor (https://xdsoft.net/jodit/)\n * Released under MIT see LICENSE.txt in the project root for license information.\n * Copyright (c) 2013-2025 Valeriy Chupurnov. All rights reserved. https://xdsoft.net\n */\nimport { Dom } from \"../../dom/dom.js\";\nimport { isString } from \"../checker/is-string.js\";\nimport { attr } from \"./attr.js\";\nimport { css } from \"./css.js\";\nimport { $$ } from \"./selector.js\";\n/**\n * Fixes image sizes and sets absolute paths to images\n */\nfunction fixedAssetsSizeAndAbsoluteLinks(editor, points) {\n    const restoreAttributes = [];\n    try {\n        $$('img', editor.editor).forEach(item => {\n            const previousAttrs = [\n                attr(item, 'width'),\n                attr(item, 'height'),\n                item.src\n            ];\n            attr(item, {\n                width: item.offsetWidth + points,\n                height: item.offsetHeight + points\n            });\n            const a = editor.createInside.a();\n            editor.ed.body.appendChild(a);\n            a.href = item.src;\n            item.src = a.href;\n            Dom.safeRemove(a);\n            restoreAttributes.push(() => {\n                var _a;\n                item.src = (_a = previousAttrs[2]) !== null && _a !== void 0 ? _a : '';\n                attr(item, {\n                    width: previousAttrs[0] || null,\n                    height: previousAttrs[1] || null\n                });\n            });\n        });\n    }\n    catch (e) {\n        restoreAttributes.forEach(c => c());\n        restoreAttributes.length = 0;\n        throw e;\n    }\n    return restoreAttributes;\n}\n/**\n * Generates a copy of an HTML document, resizes images, executes JS\n *\n * @event beforePreviewBox(string | undefined, 'pt' | 'px' | '')\n * @event afterPreviewBox(HTMLElement)\n */\nexport function previewBox(editor, defaultValue, points = 'px', container = null) {\n    const onDestruct = [];\n    const restoreAttributes = fixedAssetsSizeAndAbsoluteLinks(editor, points);\n    try {\n        const res = editor.e.fire('beforePreviewBox', defaultValue, points);\n        if (res != null) {\n            return res;\n        }\n        let div = editor.c.div('jodit__preview-box jodit-context');\n        if (container) {\n            container.appendChild(div);\n        }\n        css(div, {\n            position: 'relative',\n            padding: 16\n        });\n        const value = editor.value ||\n            `<div style='position: absolute;left:50%;top:50%;transform: translateX(-50%) translateY(-50%);color:#ccc;'>${editor.i18n('Empty')}</div>`;\n        if (editor.iframe) {\n            const iframe = editor.create.element('iframe');\n            css(iframe, {\n                minWidth: 800,\n                minHeight: 600,\n                border: 0\n            });\n            div.appendChild(iframe);\n            const myWindow = iframe.contentWindow;\n            if (myWindow) {\n                editor.e.fire('generateDocumentStructure.iframe', myWindow.document, editor);\n                div = myWindow.document.body;\n                if (typeof ResizeObserver === 'function') {\n                    let destructed = false;\n                    const elm = myWindow.document.body;\n                    const resizeObserver = new ResizeObserver(editor.async.debounce(() => {\n                        resizeObserver.unobserve(elm);\n                        iframe.style.height = `${elm.offsetHeight + 20}px`;\n                        editor.async.requestAnimationFrame(() => {\n                            !destructed && resizeObserver.observe(elm);\n                        });\n                    }, 100));\n                    const beforeDestruct = () => {\n                        destructed = true;\n                        resizeObserver.unobserve(elm);\n                        resizeObserver.disconnect();\n                        editor.e.off('beforeDestruct', beforeDestruct);\n                    };\n                    onDestruct.push(beforeDestruct);\n                    editor.e.on('beforeDestruct', beforeDestruct);\n                }\n            }\n        }\n        else {\n            css(div, {\n                minWidth: 1024,\n                minHeight: 600,\n                border: 0\n            });\n        }\n        const setHTML = (box, value) => {\n            const dv = isString(value) ? editor.c.div() : value;\n            if (isString(value)) {\n                dv.innerHTML = value;\n            }\n            for (let i = 0; i < dv.childNodes.length; i += 1) {\n                const c = dv.childNodes[i];\n                if (Dom.isElement(c)) {\n                    const newNode = box.ownerDocument.createElement(c.nodeName);\n                    for (let j = 0; j < c.attributes.length; j += 1) {\n                        attr(newNode, c.attributes[j].nodeName, c.attributes[j].nodeValue);\n                    }\n                    if (c.childNodes.length === 0 || Dom.isTag(c, 'table')) {\n                        switch (c.nodeName) {\n                            case 'SCRIPT':\n                                if (c.textContent) {\n                                    newNode.textContent = c.textContent;\n                                }\n                                break;\n                            default:\n                                if (c.innerHTML) {\n                                    newNode.innerHTML = c.innerHTML;\n                                }\n                                break;\n                        }\n                    }\n                    else {\n                        setHTML(newNode, c);\n                    }\n                    try {\n                        box.appendChild(newNode);\n                    }\n                    catch (_a) { }\n                }\n                else {\n                    try {\n                        box.appendChild(c.cloneNode(true));\n                    }\n                    catch (_b) { }\n                }\n            }\n        };\n        setHTML(div, value);\n        editor.e.fire('afterPreviewBox', div);\n        return [\n            div,\n            () => {\n                onDestruct.forEach(cb => cb());\n            }\n        ];\n    }\n    finally {\n        restoreAttributes.forEach(clb => clb());\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}